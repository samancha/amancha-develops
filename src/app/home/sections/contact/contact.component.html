<section id="contact" class="py-20 bg-gradient-to-br from-blue-600 to-indigo-700 text-white">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold mb-4">Let's Build Something Great</h2>
      <p class="text-xl text-blue-100">
        Whether you need consulting, training, or just want to discuss your projectâ€”let's connect.
      </p>
    </div>

    <!-- Contact Form -->
    <div class="bg-white rounded-xl shadow-2xl p-8 text-gray-900">
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" data-netlify="true" name="contact" class="space-y-6">
        <!-- Netlify Forms hidden field (required) -->
        <input type="hidden" name="form-name" value="contact" />
        
        <!-- Name & Email Row -->
        <div class="grid md:grid-cols-2 gap-6">
          <!-- Name Field -->
          <div>
            <label for="name" class="block text-sm font-semibold text-gray-700 mb-2">
              Name *
            </label>
            <input 
              type="text" 
              id="name" 
              name="name"
              autocomplete="name"
              formControlName="name"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"
              [ngClass]="{'border-red-500': submitted && f['name'].errors}">
            <div *ngIf="submitted && f['name'].errors" class="text-red-600 text-sm mt-1">
              <span *ngIf="f['name'].errors['required']">Name is required</span>
              <span *ngIf="f['name'].errors['minlength']">Name must be at least 2 characters</span>
            </div>
          </div>

          <!-- Email Field -->
          <div>
            <label for="email" class="block text-sm font-semibold text-gray-700 mb-2">
              Email *
            </label>
            <input 
              type="email" 
              id="email" 
              name="email"
              autocomplete="email"
              formControlName="email"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"
              [ngClass]="{'border-red-500': submitted && f['email'].errors}">
            <div *ngIf="submitted && f['email'].errors" class="text-red-600 text-sm mt-1">
              <span *ngIf="f['email'].errors['required']">Email is required</span>
              <span *ngIf="f['email'].errors['email']">Please enter a valid email</span>
            </div>
          </div>
        </div>

        <!-- Service Select -->
        <div>
          <label for="service" class="block text-sm font-semibold text-gray-700 mb-2">
            I'm interested in *
          </label>
          <select 
            id="service" 
            name="service"
            autocomplete="off"
            formControlName="service"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"
            [ngClass]="{'border-red-500': submitted && f['service'].errors}">
            <option value="">Select a service...</option>
            <option *ngFor="let option of serviceOptions" [value]="option.value">
              {{ option.label }}
            </option>
          </select>
          <div *ngIf="submitted && f['service'].errors" class="text-red-600 text-sm mt-1">
            <span *ngIf="f['service'].errors['required']">Please select a service</span>
          </div>
        </div>

        <!-- Message Textarea -->
        <div>
          <label for="message" class="block text-sm font-semibold text-gray-700 mb-2">
            Tell me about your project *
          </label>
          <textarea 
            id="message" 
            name="message"
            formControlName="message"
            rows="5"
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-600 focus:border-transparent"
            [ngClass]="{'border-red-500': submitted && f['message'].errors}"></textarea>
          <div *ngIf="submitted && f['message'].errors" class="text-red-600 text-sm mt-1">
            <span *ngIf="f['message'].errors['required']">Message is required</span>
            <span *ngIf="f['message'].errors['minlength']">Message must be at least 10 characters</span>
          </div>
        </div>

        <!-- Submit Button -->
        <div>
          <button 
            type="submit" 
            [disabled]="loading"
            class="w-full bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed">
            {{ loading ? 'Sending...' : 'Send Message' }}
          </button>
        </div>
      </form>

      <!-- Success/Error Message -->
      <div 
        *ngIf="message" 
        [ngClass]="messageType === 'success' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'"
        class="mt-4 p-4 rounded-lg">
        {{ message }}
      </div>
    </div>

    <!-- Direct Contact Info -->
    <div class="text-center mt-8 text-blue-100">
      <p>Or reach out directly:</p>
      <p class="text-xl font-semibold mt-2">
        <a href="mailto:steve.amancha&#64;gmail.com" class="hover:text-white transition">
          steve.amancha&#64;gmail.com
        </a>
        <span class="mx-3">|</span>
        <span>630-744-9852</span>
      </p>
    </div>
  </div>
</section>
